--
-- Atualiza status do edital
--
DROP PROCEDURE IF EXISTS AtualizaStatusEdital;
DELIMETER//

CREATE PROCEDURE AtualizaStatusEdital(vIdEdital INT)
BEGIN
	DECLARE CONTINUE HANDLER FOR SQLEXCEPTION ROLLBACK;
	START TRANSACTION;
	
	UPDATE edital
	SET status = 4
	WHERE id = vIdEdital;
	
	COMMIT;
	
END //

DELIMITER ;